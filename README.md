# AWS コンテナ設計・構築本格入門

[この書籍](https://www.amazon.co.jp/dp/B09DKZC1ZH/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)を手を動かしながら学習

## Chapter1

コンテナ技術の解説

コンテナの利点

- 依存関係をコンテナ中に閉じ込めることができる
  - こっちのサブアプリでは Python 環境
  - あっちでは TypeScript
  - こっちでは Python version 違い
- 再起動性・構築性が高い
  - イメージがあれば何度でも同じ環境を作成できるし壊して良い
- サーバー仮想化と比べて軽い

この辺りがあげられている

## Chapter2

AWS が提供しているコントロールプレーン

ここでいうコントロールプレーンはこんてなを管理する機能のこと

コンテナを動かす実行環境のことではない

### ECS

SLA で月間稼働率が 99.99%であることが保証

- タスク
  - コンテナが動作するコンポーネントをタスクと呼んでいる
- タスク定義
  - JSON で記述。
  - デプロイするコンテナイメージ・IAM ロール・CloudWatchLogs の出力などを定義
- サービス
  - 指定した数だけタスクを維持するスケジューラー
- クラスター
  - サービスとタスクを実行する論理グループ

## データプレーン

EC2 と Fargate がある

Fargate はコンテナ向けサーバレスコンピューティングエンジン

メリット

- ホスト管理が不要
  - アプリケーションのことだけに集中できる

デメリット

- 価格が高い
  - 以前よりかなり安くなっている
  - でも EC2 よりも高い
- OS に介入できない
- CPU・メモリの制限やコンテナ画起動するまでの時間が少し遅い

なお SSH 接続による調査がしにくいという問題があったが、
[ECS Exec](https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/userguide/ecs-exec.html)というサービスができている
